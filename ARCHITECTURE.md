# Arsitektur Aplikasi Dzikeer

## ğŸ“ Struktur Navigasi

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Home Screen                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸŒ… Dzikir Pagi               â”‚  â”‚
â”‚  â”‚  Setelah Shalat Subuh         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸŒ† Dzikir Petang             â”‚  â”‚
â”‚  â”‚  Setelah Shalat Ashar         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ¤² Doa Harian                â”‚  â”‚
â”‚  â”‚  Kumpulan Doa Sehari-hari     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  âš™ï¸ Pengaturan                â”‚  â”‚
â”‚  â”‚  Notifikasi & Preferensi      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Dzikir Pagi â”‚ â”‚Dzikir Petangâ”‚ â”‚ Doa Harian  â”‚
    â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
    â”‚ Progress:   â”‚ â”‚ Progress:   â”‚ â”‚ (Coming     â”‚
    â”‚ â–“â–“â–“â–“â–‘â–‘â–‘â–‘    â”‚ â”‚ â–“â–“â–“â–“â–“â–‘â–‘â–‘    â”‚ â”‚  Soon)      â”‚
    â”‚ 4/10        â”‚ â”‚ 5/10        â”‚ â”‚             â”‚
    â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚             â”‚
    â”‚ â”‚ Dzikir  â”‚ â”‚ â”‚ â”‚ Dzikir  â”‚ â”‚ â”‚             â”‚
    â”‚ â”‚ Card 1  â”‚ â”‚ â”‚ â”‚ Card 1  â”‚ â”‚ â”‚             â”‚
    â”‚ â”‚ Counter â”‚ â”‚ â”‚ â”‚ Counter â”‚ â”‚ â”‚             â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚             â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚             â”‚
    â”‚ â”‚ Dzikir  â”‚ â”‚ â”‚ â”‚ Dzikir  â”‚ â”‚ â”‚             â”‚
    â”‚ â”‚ Card 2  â”‚ â”‚ â”‚ â”‚ Card 2  â”‚ â”‚ â”‚             â”‚
    â”‚ â”‚ Counter â”‚ â”‚ â”‚ â”‚ Counter â”‚ â”‚ â”‚             â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ Database Schema Detail

### AsyncStorage Keys Structure

```
user_settings                          â†’ User preferences
progress_YYYY-MM-DD_1_pagi            â†’ Dzikir #1 pagi progress
progress_YYYY-MM-DD_1_petang          â†’ Dzikir #1 petang progress
progress_YYYY-MM-DD_2_pagi            â†’ Dzikir #2 pagi progress
...
```

### Data Models

#### 1. DzikirProgress Model
```typescript
interface DzikirProgress {
  id: string;              // "progress_2024-01-15_1_pagi"
  date: string;            // "2024-01-15"
  dzikirId: number;        // 1, 2, 3, ...
  type: 'pagi' | 'petang'; // Type of dzikir
  currentCount: number;    // Current counter value
  targetCount: number;     // Target from jumlahPengulangan
  isCompleted: boolean;    // true if currentCount >= targetCount
  completedAt: number | null; // Timestamp when completed
}
```

#### 2. UserSettings Model
```typescript
interface UserSettings {
  notificationEnabled: boolean;      // Enable/disable notifications
  morningNotificationTime: string;   // "06:00" format
  eveningNotificationTime: string;   // "16:00" format
  hapticFeedback: boolean;           // Enable/disable vibration
  fontSize: 'small' | 'medium' | 'large'; // Text size preference
}
```

#### 3. Dzikir Data Model
```typescript
interface Dzikir {
  id: number;
  judul: string;              // Title of dzikir
  teksArab: string;           // Arabic text
  transliterasi: string;      // Latin transliteration
  terjemahan: string;         // Indonesian translation
  jumlahPengulangan: number;  // Repetition count (1, 3, 7, 100, etc)
  keutamaan: string;          // Benefits/virtues
  dalil: string;              // Hadith reference
}
```

## ğŸ”„ Data Flow

### 1. Loading Dzikir List
```
Screen Mount
    â†“
Load dzikirPagi.json / dzikirPetang.json
    â†“
For each dzikir:
    â†“
Check AsyncStorage for today's progress
    â†“
Display with current count
```

### 2. Counter Interaction
```
User taps counter button
    â†“
Increment count
    â†“
Trigger haptic feedback (vibrate 50ms)
    â†“
Save to AsyncStorage
    â†“
Check if completed (count >= target)
    â†“
Update UI (show checkmark if completed)
    â†“
Update progress bar
```

### 3. Daily Reset
```
App Launch
    â†“
Check date
    â†“
If new day: Progress automatically resets
(AsyncStorage keys are date-specific)
    â†“
Old progress (>7 days) cleaned up
```

## ğŸ¨ Component Hierarchy

```
App
â””â”€â”€ AppNavigator (NavigationContainer)
    â”œâ”€â”€ HomeScreen
    â”‚   â””â”€â”€ Menu Cards (4 buttons)
    â”‚
    â”œâ”€â”€ DzikirPagiScreen
    â”‚   â”œâ”€â”€ Header (with progress bar)
    â”‚   â””â”€â”€ ScrollView
    â”‚       â””â”€â”€ DzikirCard[] (10 cards)
    â”‚           â”œâ”€â”€ Arabic Text
    â”‚           â”œâ”€â”€ Transliteration
    â”‚           â”œâ”€â”€ Translation
    â”‚           â”œâ”€â”€ Keutamaan Box
    â”‚           â””â”€â”€ Counter Button
    â”‚
    â””â”€â”€ DzikirPetangScreen
        â”œâ”€â”€ Header (with progress bar)
        â””â”€â”€ ScrollView
            â””â”€â”€ DzikirCard[] (10 cards)
```

## ğŸ“¦ Dependencies

### Core Dependencies
- `react-native`: Framework utama
- `@react-navigation/native`: Navigasi antar screen
- `@react-navigation/native-stack`: Stack navigator
- `@react-native-async-storage/async-storage`: Local storage

### Supporting Dependencies
- `react-native-screens`: Native screen optimization
- `react-native-safe-area-context`: Safe area handling

## ğŸ”” Notification System (Planned)

```
Notification Service
    â†“
Check user settings
    â†“
Schedule notifications:
    - Morning: After Subuh (default 06:00)
    - Evening: After Ashar (default 16:00)
    â†“
On notification tap:
    â†“
Open respective dzikir screen
```

## ğŸ¯ Future Enhancements

1. **Doa Harian Screen**
   - Doa sebelum tidur
   - Doa bangun tidur
   - Doa makan & minum
   - Doa masuk & keluar rumah
   - Doa perjalanan

2. **Statistics Screen**
   - Weekly completion rate
   - Streak counter
   - Monthly summary

3. **Settings Screen**
   - Notification time customization
   - Font size adjustment
   - Theme selection (light/dark)
   - Language preference

4. **Bookmark Feature**
   - Mark favorite dzikir
   - Quick access to bookmarked items

5. **Audio Playback**
   - Listen to dzikir pronunciation
   - Repeat mode for memorization

## ğŸ“± Platform Support

- âœ… Android (API 21+)
- âœ… iOS (iOS 13+)
- ğŸ“± Responsive design for all screen sizes
- ğŸŒ RTL support for Arabic text

## ğŸ” Data Privacy

- âœ… All data stored locally (AsyncStorage)
- âœ… No internet connection required
- âœ… No user tracking or analytics
- âœ… No personal data collection
